{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\bartc\\\\Documents\\\\Github\\\\DAML-Covid19\\\\ui-js\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _slicedToArray from\"C:\\\\Users\\\\bartc\\\\Documents\\\\Github\\\\DAML-Covid19\\\\ui-js\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Drawer,IconButton,List}from\"@material-ui/core\";import{Home,List as ListIcon,ArrowBack}from\"@material-ui/icons\";import{useTheme}from\"@material-ui/styles\";import{withRouter}from\"react-router-dom\";import classNames from\"classnames\";import useStyles from\"./styles\";import SidebarLink from\"./components/SidebarLink/SidebarLink\";import{useLayoutState,useLayoutDispatch,toggleSidebar}from\"../../context/LayoutContext\";function Sidebar(_ref){var _classNames,_classNames2;var location=_ref.location;var classes=useStyles();var theme=useTheme();// global\nvar _useLayoutState=useLayoutState(),isSidebarOpened=_useLayoutState.isSidebarOpened;var layoutDispatch=useLayoutDispatch();// local\nvar _useState=useState(true),_useState2=_slicedToArray(_useState,2),isPermanent=_useState2[0],setPermanent=_useState2[1];useEffect(function(){window.addEventListener(\"resize\",handleWindowWidthChange);handleWindowWidthChange();return function cleanup(){window.removeEventListener(\"resize\",handleWindowWidthChange);};});return/*#__PURE__*/React.createElement(Drawer,{variant:isPermanent?\"permanent\":\"temporary\",className:classNames(classes.drawer,(_classNames={},_defineProperty(_classNames,classes.drawerOpen,isSidebarOpened),_defineProperty(_classNames,classes.drawerClose,!isSidebarOpened),_classNames)),classes:{paper:classNames((_classNames2={},_defineProperty(_classNames2,classes.drawerOpen,isSidebarOpened),_defineProperty(_classNames2,classes.drawerClose,!isSidebarOpened),_classNames2))},open:isSidebarOpened},/*#__PURE__*/React.createElement(\"div\",{className:classes.toolbar}),/*#__PURE__*/React.createElement(\"div\",{className:classes.mobileBackButton},/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){return toggleSidebar(layoutDispatch);}},/*#__PURE__*/React.createElement(ArrowBack,{classes:{root:classNames(classes.headerIcon,classes.headerIconCollapse)}}))),/*#__PURE__*/React.createElement(List,{className:classes.sidebarList},/*#__PURE__*/React.createElement(SidebarLink,{key:\"default\",label:\"Default\",path:\"/app/default\",icon:/*#__PURE__*/React.createElement(Home,null),location:location,isSidebarOpened:isSidebarOpened}),/*#__PURE__*/React.createElement(SidebarLink,{key:\"Report\",label:\"Report\",path:\"/app/report\",icon:/*#__PURE__*/React.createElement(ListIcon,null),location:location,isSidebarOpened:isSidebarOpened})));// ##################################################################\nfunction handleWindowWidthChange(){var windowWidth=window.innerWidth;var breakpointWidth=theme.breakpoints.values.md;var isSmallScreen=windowWidth<breakpointWidth;if(isSmallScreen&&isPermanent){setPermanent(false);}else if(!isSmallScreen&&!isPermanent){setPermanent(true);}}}export default withRouter(Sidebar);","map":{"version":3,"sources":["C:/Users/bartc/Documents/Github/DAML-Covid19/ui-js/src/components/Sidebar/Sidebar.js"],"names":["React","useState","useEffect","Drawer","IconButton","List","Home","ListIcon","ArrowBack","useTheme","withRouter","classNames","useStyles","SidebarLink","useLayoutState","useLayoutDispatch","toggleSidebar","Sidebar","location","classes","theme","isSidebarOpened","layoutDispatch","isPermanent","setPermanent","window","addEventListener","handleWindowWidthChange","cleanup","removeEventListener","drawer","drawerOpen","drawerClose","paper","toolbar","mobileBackButton","root","headerIcon","headerIconCollapse","sidebarList","windowWidth","innerWidth","breakpointWidth","breakpoints","values","md","isSmallScreen"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Drawer, IconButton, List } from \"@material-ui/core\";\nimport { Home, List as ListIcon, ArrowBack } from \"@material-ui/icons\";\nimport { useTheme } from \"@material-ui/styles\";\nimport { withRouter } from \"react-router-dom\";\nimport classNames from \"classnames\";\nimport useStyles from \"./styles\";\nimport SidebarLink from \"./components/SidebarLink/SidebarLink\";\nimport { useLayoutState, useLayoutDispatch, toggleSidebar } from \"../../context/LayoutContext\";\n\nfunction Sidebar({ location }) {\n  var classes = useStyles();\n  var theme = useTheme();\n\n  // global\n  var { isSidebarOpened } = useLayoutState();\n  var layoutDispatch = useLayoutDispatch();\n\n  // local\n  var [isPermanent, setPermanent] = useState(true);\n\n  useEffect(function() {\n    window.addEventListener(\"resize\", handleWindowWidthChange);\n    handleWindowWidthChange();\n    return function cleanup() {\n      window.removeEventListener(\"resize\", handleWindowWidthChange);\n    };\n  });\n\n  return (\n    <Drawer\n      variant={isPermanent ? \"permanent\" : \"temporary\"}\n      className={classNames(classes.drawer, {\n        [classes.drawerOpen]: isSidebarOpened,\n        [classes.drawerClose]: !isSidebarOpened,\n      })}\n      classes={{\n        paper: classNames({\n          [classes.drawerOpen]: isSidebarOpened,\n          [classes.drawerClose]: !isSidebarOpened,\n        }),\n      }}\n      open={isSidebarOpened}\n    >\n      <div className={classes.toolbar} />\n      <div className={classes.mobileBackButton}>\n        <IconButton onClick={() => toggleSidebar(layoutDispatch)}>\n          <ArrowBack\n            classes={{\n              root: classNames(classes.headerIcon, classes.headerIconCollapse),\n            }}\n          />\n        </IconButton>\n      </div>\n      <List className={classes.sidebarList}>\n        <SidebarLink\n          key=\"default\"\n          label=\"Default\"\n          path=\"/app/default\"\n          icon={(<Home />)}\n          location={location}\n          isSidebarOpened={isSidebarOpened}\n        />\n        <SidebarLink\n          key=\"Report\"\n          label=\"Report\"\n          path=\"/app/report\"\n          icon={(<ListIcon />)}\n          location={location}\n          isSidebarOpened={isSidebarOpened}\n        />\n      </List>\n    </Drawer>\n  );\n\n  // ##################################################################\n  function handleWindowWidthChange() {\n    var windowWidth = window.innerWidth;\n    var breakpointWidth = theme.breakpoints.values.md;\n    var isSmallScreen = windowWidth < breakpointWidth;\n\n    if (isSmallScreen && isPermanent) {\n      setPermanent(false);\n    } else if (!isSmallScreen && !isPermanent) {\n      setPermanent(true);\n    }\n  }\n}\n\nexport default withRouter(Sidebar);\n"]},"metadata":{},"sourceType":"module"}