{"ast":null,"code":"import uuidv4 from\"uuid/v4\";import*as jwt from\"jsonwebtoken\";export var isLocalDev=process.env.NODE_ENV==='development';var host=window.location.host.split('.');export var ledgerId=isLocalDev?\"covid19\":host[0];var apiUrl=host.slice(1);apiUrl.unshift('api');export var httpBaseUrl=isLocalDev?undefined:'https://'+apiUrl.join('.')+(window.location.port?':'+window.location.port:'')+'/data/'+ledgerId+'/';// Unfortunately, the development server of `create-react-app` does not proxy\n// websockets properly. Thus, we need to bypass it and talk to the JSON API\n// directly in development mode.\nexport var wsBaseUrl=isLocalDev?'ws://localhost:7575/':undefined;var applicationId=uuidv4();export var createToken=function createToken(party){return jwt.sign({\"https://daml.com/ledger-api\":{ledgerId:ledgerId,applicationId:applicationId,admin:true,actAs:[party],readAs:[party]}},\"secret\");};var loginUrl=host.slice(1);loginUrl.unshift('login');export var dablLoginUrl=loginUrl.join('.')+(window.location.port?':'+window.location.port:'')+'/auth/login?ledgerId='+ledgerId;","map":{"version":3,"sources":["C:/Users/bartc/Documents/Github/DAML-Covid19/ui-js/src/config.js"],"names":["uuidv4","jwt","isLocalDev","process","env","NODE_ENV","host","window","location","split","ledgerId","apiUrl","slice","unshift","httpBaseUrl","undefined","join","port","wsBaseUrl","applicationId","createToken","party","sign","admin","actAs","readAs","loginUrl","dablLoginUrl"],"mappings":"AAAA,MAAOA,CAAAA,MAAP,KAAmB,SAAnB,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,cAArB,CAEA,MAAO,IAAMC,CAAAA,UAAU,CAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,GAAyB,aAA5C,CAEP,GAAIC,CAAAA,IAAI,CAAGC,MAAM,CAACC,QAAP,CAAgBF,IAAhB,CAAqBG,KAArB,CAA2B,GAA3B,CAAX,CAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAGR,UAAU,CAAG,SAAH,CAAeI,IAAI,CAAC,CAAD,CAA9C,CAEP,GAAIK,CAAAA,MAAM,CAAGL,IAAI,CAACM,KAAL,CAAW,CAAX,CAAb,CACAD,MAAM,CAACE,OAAP,CAAe,KAAf,EAEA,MAAO,IAAMC,CAAAA,WAAW,CAAGZ,UAAU,CAAGa,SAAH,CAAgB,WAAaJ,MAAM,CAACK,IAAP,CAAY,GAAZ,CAAb,EAAiCT,MAAM,CAACC,QAAP,CAAgBS,IAAhB,CAAuB,IAAMV,MAAM,CAACC,QAAP,CAAgBS,IAA7C,CAAoD,EAArF,EAA2F,QAA3F,CAAsGP,QAAtG,CAAiH,GAA/J,CAEP;AACA;AACA;AACA,MAAO,IAAMQ,CAAAA,SAAS,CAAGhB,UAAU,CAAG,sBAAH,CAA4Ba,SAAxD,CAEP,GAAMI,CAAAA,aAAa,CAAGnB,MAAM,EAA5B,CAEA,MAAO,IAAMoB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAC,KAAK,QAAIpB,CAAAA,GAAG,CAACqB,IAAJ,CAAS,CAAE,8BAA+B,CAAEZ,QAAQ,CAARA,QAAF,CAAYS,aAAa,CAAbA,aAAZ,CAA2BI,KAAK,CAAE,IAAlC,CAAwCC,KAAK,CAAE,CAACH,KAAD,CAA/C,CAAwDI,MAAM,CAAE,CAACJ,KAAD,CAAhE,CAAjC,CAAT,CAAuH,QAAvH,CAAJ,EAAzB,CAEP,GAAIK,CAAAA,QAAQ,CAAGpB,IAAI,CAACM,KAAL,CAAW,CAAX,CAAf,CACAc,QAAQ,CAACb,OAAT,CAAiB,OAAjB,EAEA,MAAO,IAAMc,CAAAA,YAAY,CAAGD,QAAQ,CAACV,IAAT,CAAc,GAAd,GAAsBT,MAAM,CAACC,QAAP,CAAgBS,IAAhB,CAAuB,IAAMV,MAAM,CAACC,QAAP,CAAgBS,IAA7C,CAAoD,EAA1E,EAAgF,uBAAhF,CAA0GP,QAA/H","sourcesContent":["import uuidv4 from \"uuid/v4\";\nimport * as jwt from \"jsonwebtoken\";\n\nexport const isLocalDev = process.env.NODE_ENV === 'development';\n\nlet host = window.location.host.split('.')\n\nexport const ledgerId = isLocalDev ? \"covid19\" : host[0];\n\nlet apiUrl = host.slice(1)\napiUrl.unshift('api')\n\nexport const httpBaseUrl = isLocalDev ? undefined : ('https://' + apiUrl.join('.') + (window.location.port ? ':' + window.location.port : '') + '/data/' + ledgerId + '/');\n\n// Unfortunately, the development server of `create-react-app` does not proxy\n// websockets properly. Thus, we need to bypass it and talk to the JSON API\n// directly in development mode.\nexport const wsBaseUrl = isLocalDev ? 'ws://localhost:7575/' : undefined;\n\nconst applicationId = uuidv4();\n\nexport const createToken = party => jwt.sign({ \"https://daml.com/ledger-api\": { ledgerId, applicationId, admin: true, actAs: [party], readAs: [party] } }, \"secret\")\n\nlet loginUrl = host.slice(1)\nloginUrl.unshift('login')\n\nexport const dablLoginUrl = loginUrl.join('.') + (window.location.port ? ':' + window.location.port : '') + '/auth/login?ledgerId=' + ledgerId;\n\n\n"]},"metadata":{},"sourceType":"module"}