{"ast":null,"code":"\"use strict\"; // Copyright (c) 2020 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar context_1 = require(\"./context\");\n\nvar ledger_1 = __importDefault(require(\"@daml/ledger\"));\n\nvar DamlLedger = function (_a) {\n  var token = _a.token,\n      httpBaseUrl = _a.httpBaseUrl,\n      wsBaseUrl = _a.wsBaseUrl,\n      party = _a.party,\n      children = _a.children;\n\n  var _b = react_1.useState(0),\n      reloadToken = _b[0],\n      setReloadToken = _b[1];\n\n  var ledger = react_1.useMemo(function () {\n    return new ledger_1.default({\n      token: token,\n      httpBaseUrl: httpBaseUrl,\n      wsBaseUrl: wsBaseUrl\n    });\n  }, [token, httpBaseUrl, wsBaseUrl]);\n  var state = react_1.useMemo(function () {\n    return {\n      reloadToken: reloadToken,\n      triggerReload: function () {\n        return setReloadToken(function (x) {\n          return x + 1;\n        });\n      },\n      party: party,\n      ledger: ledger\n    };\n  }, [party, ledger, reloadToken]);\n  return react_1.default.createElement(context_1.DamlLedgerContext.Provider, {\n    value: state\n  }, children);\n};\n\nexports.default = DamlLedger;","map":{"version":3,"sources":["C:/Users/bartc/Documents/Github/DAML-Covid19/ui-js/node_modules/@daml/react/DamlLedger.js"],"names":["__importStar","mod","__esModule","result","k","Object","hasOwnProperty","call","__importDefault","defineProperty","exports","value","react_1","require","context_1","ledger_1","DamlLedger","_a","token","httpBaseUrl","wsBaseUrl","party","children","_b","useState","reloadToken","setReloadToken","ledger","useMemo","default","state","triggerReload","x","createElement","DamlLedgerContext","Provider"],"mappings":"AAAA,a,CACA;AACA;;AACA,IAAIA,YAAY,GAAI,QAAQ,KAAKA,YAAd,IAA+B,UAAUC,GAAV,EAAe;AAC7D,MAAIA,GAAG,IAAIA,GAAG,CAACC,UAAf,EAA2B,OAAOD,GAAP;AAC3B,MAAIE,MAAM,GAAG,EAAb;AACA,MAAIF,GAAG,IAAI,IAAX,EAAiB,KAAK,IAAIG,CAAT,IAAcH,GAAd,EAAmB,IAAII,MAAM,CAACC,cAAP,CAAsBC,IAAtB,CAA2BN,GAA3B,EAAgCG,CAAhC,CAAJ,EAAwCD,MAAM,CAACC,CAAD,CAAN,GAAYH,GAAG,CAACG,CAAD,CAAf;AAC5ED,EAAAA,MAAM,CAAC,SAAD,CAAN,GAAoBF,GAApB;AACA,SAAOE,MAAP;AACH,CAND;;AAOA,IAAIK,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUP,GAAV,EAAe;AACnE,SAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;AAAE,eAAWA;AAAb,GAAvC;AACH,CAFD;;AAGAI,MAAM,CAACI,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAIC,OAAO,GAAGZ,YAAY,CAACa,OAAO,CAAC,OAAD,CAAR,CAA1B;;AACA,IAAIC,SAAS,GAAGD,OAAO,CAAC,WAAD,CAAvB;;AACA,IAAIE,QAAQ,GAAGP,eAAe,CAACK,OAAO,CAAC,cAAD,CAAR,CAA9B;;AACA,IAAIG,UAAU,GAAG,UAAUC,EAAV,EAAc;AAC3B,MAAIC,KAAK,GAAGD,EAAE,CAACC,KAAf;AAAA,MAAsBC,WAAW,GAAGF,EAAE,CAACE,WAAvC;AAAA,MAAoDC,SAAS,GAAGH,EAAE,CAACG,SAAnE;AAAA,MAA8EC,KAAK,GAAGJ,EAAE,CAACI,KAAzF;AAAA,MAAgGC,QAAQ,GAAGL,EAAE,CAACK,QAA9G;;AACA,MAAIC,EAAE,GAAGX,OAAO,CAACY,QAAR,CAAiB,CAAjB,CAAT;AAAA,MAA8BC,WAAW,GAAGF,EAAE,CAAC,CAAD,CAA9C;AAAA,MAAmDG,cAAc,GAAGH,EAAE,CAAC,CAAD,CAAtE;;AACA,MAAII,MAAM,GAAGf,OAAO,CAACgB,OAAR,CAAgB,YAAY;AAAE,WAAO,IAAIb,QAAQ,CAACc,OAAb,CAAqB;AAAEX,MAAAA,KAAK,EAAEA,KAAT;AAAgBC,MAAAA,WAAW,EAAEA,WAA7B;AAA0CC,MAAAA,SAAS,EAAEA;AAArD,KAArB,CAAP;AAAgG,GAA9H,EAAgI,CAACF,KAAD,EAAQC,WAAR,EAAqBC,SAArB,CAAhI,CAAb;AACA,MAAIU,KAAK,GAAGlB,OAAO,CAACgB,OAAR,CAAgB,YAAY;AAAE,WAAQ;AAC9CH,MAAAA,WAAW,EAAEA,WADiC;AAE9CM,MAAAA,aAAa,EAAE,YAAY;AAAE,eAAOL,cAAc,CAAC,UAAUM,CAAV,EAAa;AAAE,iBAAOA,CAAC,GAAG,CAAX;AAAe,SAA/B,CAArB;AAAwD,OAFvC;AAG9CX,MAAAA,KAAK,EAAEA,KAHuC;AAI9CM,MAAAA,MAAM,EAAEA;AAJsC,KAAR;AAKrC,GALO,EAKL,CAACN,KAAD,EAAQM,MAAR,EAAgBF,WAAhB,CALK,CAAZ;AAMA,SAAOb,OAAO,CAACiB,OAAR,CAAgBI,aAAhB,CAA8BnB,SAAS,CAACoB,iBAAV,CAA4BC,QAA1D,EAAoE;AAAExB,IAAAA,KAAK,EAAEmB;AAAT,GAApE,EAAsFR,QAAtF,CAAP;AACH,CAXD;;AAYAZ,OAAO,CAACmB,OAAR,GAAkBb,UAAlB","sourcesContent":["\"use strict\";\n// Copyright (c) 2020 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar context_1 = require(\"./context\");\nvar ledger_1 = __importDefault(require(\"@daml/ledger\"));\nvar DamlLedger = function (_a) {\n    var token = _a.token, httpBaseUrl = _a.httpBaseUrl, wsBaseUrl = _a.wsBaseUrl, party = _a.party, children = _a.children;\n    var _b = react_1.useState(0), reloadToken = _b[0], setReloadToken = _b[1];\n    var ledger = react_1.useMemo(function () { return new ledger_1.default({ token: token, httpBaseUrl: httpBaseUrl, wsBaseUrl: wsBaseUrl }); }, [token, httpBaseUrl, wsBaseUrl]);\n    var state = react_1.useMemo(function () { return ({\n        reloadToken: reloadToken,\n        triggerReload: function () { return setReloadToken(function (x) { return x + 1; }); },\n        party: party,\n        ledger: ledger,\n    }); }, [party, ledger, reloadToken]);\n    return react_1.default.createElement(context_1.DamlLedgerContext.Provider, { value: state }, children);\n};\nexports.default = DamlLedger;\n//# sourceMappingURL=DamlLedger.js.map"]},"metadata":{},"sourceType":"script"}