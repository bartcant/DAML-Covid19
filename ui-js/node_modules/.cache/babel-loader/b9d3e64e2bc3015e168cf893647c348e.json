{"ast":null,"code":"import uuidv4 from \"uuid/v4\";\nimport * as jwt from \"jsonwebtoken\";\nexport const isLocalDev = process.env.NODE_ENV === 'development';\nlet host = window.location.host.split('.');\nexport const ledgerId = isLocalDev ? \"covid19\" : host[0];\nlet apiUrl = host.slice(1);\napiUrl.unshift('api');\nexport const httpBaseUrl = isLocalDev ? undefined : 'https://' + apiUrl.join('.') + (window.location.port ? ':' + window.location.port : '') + '/data/' + ledgerId + '/'; // Unfortunately, the development server of `create-react-app` does not proxy\n// websockets properly. Thus, we need to bypass it and talk to the JSON API\n// directly in development mode.\n\nexport const wsBaseUrl = isLocalDev ? 'ws://localhost:7575/' : undefined;\nconst applicationId = uuidv4();\nexport const createToken = party => jwt.sign({\n  \"https://daml.com/ledger-api\": {\n    ledgerId,\n    applicationId,\n    admin: true,\n    actAs: [party],\n    readAs: [party]\n  }\n}, \"secret\");\nlet loginUrl = host.slice(1);\nloginUrl.unshift('login');\nexport const dablLoginUrl = loginUrl.join('.') + (window.location.port ? ':' + window.location.port : '') + '/auth/login?ledgerId=' + ledgerId;","map":{"version":3,"sources":["C:/Users/bartc/Documents/Github/DAML-Covid19/ui-js/src/config.js"],"names":["uuidv4","jwt","isLocalDev","process","env","NODE_ENV","host","window","location","split","ledgerId","apiUrl","slice","unshift","httpBaseUrl","undefined","join","port","wsBaseUrl","applicationId","createToken","party","sign","admin","actAs","readAs","loginUrl","dablLoginUrl"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,SAAnB;AACA,OAAO,KAAKC,GAAZ,MAAqB,cAArB;AAEA,OAAO,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA5C;AAEP,IAAIC,IAAI,GAAGC,MAAM,CAACC,QAAP,CAAgBF,IAAhB,CAAqBG,KAArB,CAA2B,GAA3B,CAAX;AAEA,OAAO,MAAMC,QAAQ,GAAGR,UAAU,GAAG,SAAH,GAAeI,IAAI,CAAC,CAAD,CAA9C;AAEP,IAAIK,MAAM,GAAGL,IAAI,CAACM,KAAL,CAAW,CAAX,CAAb;AACAD,MAAM,CAACE,OAAP,CAAe,KAAf;AAEA,OAAO,MAAMC,WAAW,GAAGZ,UAAU,GAAGa,SAAH,GAAgB,aAAaJ,MAAM,CAACK,IAAP,CAAY,GAAZ,CAAb,IAAiCT,MAAM,CAACC,QAAP,CAAgBS,IAAhB,GAAuB,MAAMV,MAAM,CAACC,QAAP,CAAgBS,IAA7C,GAAoD,EAArF,IAA2F,QAA3F,GAAsGP,QAAtG,GAAiH,GAA/J,C,CAEP;AACA;AACA;;AACA,OAAO,MAAMQ,SAAS,GAAGhB,UAAU,GAAG,sBAAH,GAA4Ba,SAAxD;AAEP,MAAMI,aAAa,GAAGnB,MAAM,EAA5B;AAEA,OAAO,MAAMoB,WAAW,GAAGC,KAAK,IAAIpB,GAAG,CAACqB,IAAJ,CAAS;AAAE,iCAA+B;AAAEZ,IAAAA,QAAF;AAAYS,IAAAA,aAAZ;AAA2BI,IAAAA,KAAK,EAAE,IAAlC;AAAwCC,IAAAA,KAAK,EAAE,CAACH,KAAD,CAA/C;AAAwDI,IAAAA,MAAM,EAAE,CAACJ,KAAD;AAAhE;AAAjC,CAAT,EAAuH,QAAvH,CAA7B;AAEP,IAAIK,QAAQ,GAAGpB,IAAI,CAACM,KAAL,CAAW,CAAX,CAAf;AACAc,QAAQ,CAACb,OAAT,CAAiB,OAAjB;AAEA,OAAO,MAAMc,YAAY,GAAGD,QAAQ,CAACV,IAAT,CAAc,GAAd,KAAsBT,MAAM,CAACC,QAAP,CAAgBS,IAAhB,GAAuB,MAAMV,MAAM,CAACC,QAAP,CAAgBS,IAA7C,GAAoD,EAA1E,IAAgF,uBAAhF,GAA0GP,QAA/H","sourcesContent":["import uuidv4 from \"uuid/v4\";\nimport * as jwt from \"jsonwebtoken\";\n\nexport const isLocalDev = process.env.NODE_ENV === 'development';\n\nlet host = window.location.host.split('.')\n\nexport const ledgerId = isLocalDev ? \"covid19\" : host[0];\n\nlet apiUrl = host.slice(1)\napiUrl.unshift('api')\n\nexport const httpBaseUrl = isLocalDev ? undefined : ('https://' + apiUrl.join('.') + (window.location.port ? ':' + window.location.port : '') + '/data/' + ledgerId + '/');\n\n// Unfortunately, the development server of `create-react-app` does not proxy\n// websockets properly. Thus, we need to bypass it and talk to the JSON API\n// directly in development mode.\nexport const wsBaseUrl = isLocalDev ? 'ws://localhost:7575/' : undefined;\n\nconst applicationId = uuidv4();\n\nexport const createToken = party => jwt.sign({ \"https://daml.com/ledger-api\": { ledgerId, applicationId, admin: true, actAs: [party], readAs: [party] } }, \"secret\")\n\nlet loginUrl = host.slice(1)\nloginUrl.unshift('login')\n\nexport const dablLoginUrl = loginUrl.join('.') + (window.location.port ? ':' + window.location.port : '') + '/auth/login?ledgerId=' + ledgerId;\n\n\n"]},"metadata":{},"sourceType":"module"}